<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>sourceIdentify: Catalogue.cxx File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.1 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">src</a>&nbsp;/&nbsp;<a class="el" href="dir_000001.html">gtsrcid</a></div>
<h1>Catalogue.cxx File Reference</h1><code>#include "<a class="el" href="source_identify_8h-source.html">sourceIdentify.h</a>"</code><br>
<code>#include "<a class="el" href="_catalogue_8h-source.html">Catalogue.h</a>"</code><br>
<code>#include "<a class="el" href="_log_8h-source.html">Log.h</a>"</code><br>
<code>#include "src/quantity.h"</code><br>

<p>
Include dependency graph for Catalogue.cxx:<p><center><img src="_catalogue_8cxx__incl.png" border="0" usemap="#Catalogue.cxx_map" alt=""></center>
<map name="Catalogue.cxx_map">
<area href="source_identify_8h.html" shape="rect" coords="464,127,581,151" alt="">
<area href="_catalogue_8h.html" shape="rect" coords="164,221,260,245" alt="">
<area href="_log_8h.html" shape="rect" coords="184,337,240,361" alt="">
<area href="_parameters_8h.html" shape="rect" coords="309,151,413,175" alt="">
</map>

<p>
<a href="_catalogue_8cxx-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Namespaces</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesource_identify.html">sourceIdentify</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecatalog_access.html">catalogAccess</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_catalogue_8cxx.html#a0">CATALOGUE_TIMING</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesource_identify.html#a32">set_fits_col_format</a> (catalogAccess::Quantity *desc, std::string *format)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesource_identify.html#a33">fits_tform_binary</a> (int typecode, long repeat, long width, std::string *format)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a0" doxytag="Catalogue.cxx::CATALOGUE_TIMING"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define CATALOGUE_TIMING&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="_catalogue_8cxx-source.html#l00023">23</a> of file <a class="el" href="_catalogue_8cxx-source.html">Catalogue.cxx</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="file_a33" doxytag="Catalogue.cxx::fits_tform_binary"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int sourceIdentify::fits_tform_binary           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>typecode</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap> <em>repeat</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>std::string *&nbsp;</td>
          <td class="mdname" nowrap> <em>format</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="_catalogue_8cxx-source.html#l00097">97</a> of file <a class="el" href="_catalogue_8cxx-source.html">Catalogue.cxx</a>.
<p>
References <a class="el" href="namespacesource_identify.html#a38a24">sourceIdentify::STATUS_OK</a>.
<p>
Referenced by <a class="el" href="_catalogue_8cxx-source.html#l01505">sourceIdentify::Catalogue::eval_output_catalogue_quantities()</a>.<div class="fragment"><pre class="fragment">00098                                          {
00099 
00100     <span class="comment">// Declare local variables</span>
00101     <span class="keywordtype">char</span> add[256];
00102 
00103     <span class="comment">// Single loop for common exit point</span>
00104     <span class="keywordflow">do</span> {
00105 
00106       <span class="comment">// Set column format</span>
00107       <span class="keywordflow">switch</span> (typecode) {
00108       <span class="keywordflow">case</span> TBIT:
00109         *format = <span class="stringliteral">"X"</span>;
00110         <span class="keywordflow">break</span>;
00111       <span class="keywordflow">case</span> TBYTE:
00112         *format = <span class="stringliteral">"B"</span>;
00113         <span class="keywordflow">break</span>;
00114       <span class="keywordflow">case</span> TLOGICAL:
00115         *format = <span class="stringliteral">"L"</span>;
00116         <span class="keywordflow">break</span>;
00117       <span class="keywordflow">case</span> TSTRING:
00118         *format = <span class="stringliteral">"A"</span>;
00119         <span class="keywordflow">break</span>;
00120       <span class="keywordflow">case</span> TSHORT:
00121         *format = <span class="stringliteral">"I"</span>;
00122         <span class="keywordflow">break</span>;
00123       <span class="keywordflow">case</span> TINT32BIT:
00124         *format = <span class="stringliteral">"J"</span>;
00125         <span class="keywordflow">break</span>;
00126       <span class="keywordflow">case</span> TLONGLONG:
00127         *format = <span class="stringliteral">"K"</span>;
00128         <span class="keywordflow">break</span>;
00129       <span class="keywordflow">case</span> TFLOAT:
00130         *format = <span class="stringliteral">"E"</span>;
00131         <span class="keywordflow">break</span>;
00132       <span class="keywordflow">case</span> TDOUBLE:
00133         *format = <span class="stringliteral">"D"</span>;
00134         <span class="keywordflow">break</span>;
00135       <span class="keywordflow">case</span> TCOMPLEX:
00136         *format = <span class="stringliteral">"C"</span>;
00137         <span class="keywordflow">break</span>;
00138       <span class="keywordflow">case</span> TDBLCOMPLEX:
00139         *format = <span class="stringliteral">"M"</span>;
00140         <span class="keywordflow">break</span>;
00141       <span class="keywordflow">default</span>:
00142         format-&gt;clear();
00143         <span class="keywordflow">break</span>;
00144       }
00145 
00146       <span class="comment">// Add repeat string</span>
00147       <span class="keywordflow">if</span> (repeat &gt; 0) {
00148         sprintf(add, <span class="stringliteral">"%ld"</span>, repeat);
00149         *format = add + *format;
00150       }
00151 
00152       <span class="comment">// Add width string</span>
00153       <span class="keywordflow">if</span> (width &gt; 0) {
00154         sprintf(add, <span class="stringliteral">"%ld"</span>, width);
00155         *format = *format + add;
00156       }
00157 
00158     } <span class="keywordflow">while</span> (0); <span class="comment">// End of main do-loop</span>
00159     
00160     <span class="comment">// Return</span>
00161     <span class="keywordflow">return</span> <a class="code" href="namespacesource_identify.html#a38a24">STATUS_OK</a>;
00162 
00163 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="file_a32" doxytag="Catalogue.cxx::set_fits_col_format"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int sourceIdentify::set_fits_col_format           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">catalogAccess::Quantity *&nbsp;</td>
          <td class="mdname" nowrap> <em>desc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>std::string *&nbsp;</td>
          <td class="mdname" nowrap> <em>format</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="_catalogue_8cxx-source.html#l00045">45</a> of file <a class="el" href="_catalogue_8cxx-source.html">Catalogue.cxx</a>.
<p>
References <a class="el" href="namespacesource_identify.html#a38a24">sourceIdentify::STATUS_OK</a>.
<p>
Referenced by <a class="el" href="_catalogue_8cxx-source.html#l00931">sourceIdentify::Catalogue::create_output_catalogue()</a>.<div class="fragment"><pre class="fragment">00045                                                                         {
00046 
00047     <span class="comment">// Declare local variables</span>
00048     std::string            col_format;
00049     std::string::size_type len;
00050     std::string::size_type pos;
00051 
00052     <span class="comment">// Single loop for common exit point</span>
00053     <span class="keywordflow">do</span> {
00054 
00055       <span class="comment">// Set quantity format</span>
00056       <span class="keywordflow">switch</span> (desc-&gt;m_type) {
00057       <span class="keywordflow">case</span> Quantity::VECTOR:
00058         *format = <span class="stringliteral">"1E"</span>;
00059         <span class="keywordflow">break</span>;
00060       <span class="keywordflow">case</span> Quantity::NUM:
00061         *format = <span class="stringliteral">"1E"</span>;
00062         <span class="keywordflow">break</span>;
00063       <span class="keywordflow">case</span> Quantity::STRING:
00064         col_format = desc-&gt;m_format;
00065         len        = col_format.length();
00066         pos        = col_format.find(<span class="stringliteral">"A"</span>,0);
00067         <span class="keywordflow">if</span> (pos != std::string::npos) {
00068           <span class="keywordflow">if</span> (pos &lt; (len-1)) {
00069             pos++;
00070             len -= pos;
00071             *format = col_format.substr(pos,len) + <span class="stringliteral">"A"</span>;
00072           }
00073           <span class="keywordflow">else</span>
00074             *format = col_format;
00075         }
00076         <span class="keywordflow">else</span>
00077           *format = <span class="stringliteral">"10A"</span>;
00078         <span class="keywordflow">break</span>;
00079       <span class="keywordflow">default</span>:
00080         *format = <span class="stringliteral">"1E"</span>;
00081         <span class="keywordflow">break</span>;
00082       }
00083 
00084     } <span class="keywordflow">while</span> (0); <span class="comment">// End of main do-loop</span>
00085     
00086     <span class="comment">// Return</span>
00087     <span class="keywordflow">return</span> <a class="code" href="namespacesource_identify.html#a38a24">STATUS_OK</a>;
00088 
00089 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Wed Feb 1 17:08:56 2006 for sourceIdentify by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.1 </small></address>
</body>
</html>
