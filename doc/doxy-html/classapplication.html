<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>application class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>application Class Reference</h1><a href="classapplication-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classapplication.html#a0">application</a> ()</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="classapplication.html#a1">run</a> ()</td></tr>
<tr><td colspan=2><br><h2>Private Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top>st_stream::StreamFormatter&nbsp;</td><td valign=bottom><a class="el" href="classapplication.html#o0">m_f</a></td></tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="application::application"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> application::application </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="source_identify_8cxx-source.html#l00047">47</a> of file <a class="el" href="source_identify_8cxx-source.html">sourceIdentify.cxx</a>.
<p>
References <a class="el" href="source_identify_8cxx-source.html#l00140">m_f</a>.
<p>
<div class="fragment"><pre>00047 : <a class="code" href="classapplication.html#o0">m_f</a>(<span class="stringliteral">"application"</span>, <span class="stringliteral">""</span>, 2) {}
</pre></div>    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="a1" doxytag="application::run"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual void application::run </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [inline, virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="source_identify_8cxx-source.html#l00050">50</a> of file <a class="el" href="source_identify_8cxx-source.html">sourceIdentify.cxx</a>.
<p>
References <a class="el" href="namespacesource_identify.html#a37a11">sourceIdentify::Error_3</a>, <a class="el" href="_log_8cxx-source.html#l00119">sourceIdentify::Log()</a>, <a class="el" href="namespacesource_identify.html#a37a21">sourceIdentify::Log_1</a>, <a class="el" href="_log_8cxx-source.html#l00091">sourceIdentify::LogClose()</a>, <a class="el" href="_log_8cxx-source.html#l00042">sourceIdentify::LogInit()</a>, <a class="el" href="source_identify_8h-source.html#l00045">sourceIdentify::Status</a>, <a class="el" href="namespacesource_identify.html#a38a24">sourceIdentify::STATUS_OK</a>, <a class="el" href="source_identify_8h-source.html#l00019">TOOL_LOGFILE</a>, <a class="el" href="source_identify_8h-source.html#l00017">TOOL_NAME</a>, and <a class="el" href="source_identify_8h-source.html#l00018">TOOL_VERSION</a>.
<p>
<div class="fragment"><pre>00050                        {
00051 
00052     <span class="comment">// Declare (and initialise) variables</span>
00053     <a class="code" href="namespacesource_identify.html#a38">Status</a>      status = <a class="code" href="namespacesource_identify.html#a38a24">STATUS_OK</a>;
00054     clock_t     t_start;
00055     clock_t     t_stop;
00056     <span class="keywordtype">float</span>       t_elapse;
00057     Parameters  par;
00058     Catalogue   cat;
00059 
00060     <span class="comment">// Main do-loop to fall through in case of an error</span>
00061     <span class="keywordflow">do</span> {
00062 
00063       <span class="comment">// Save the execution start time</span>
00064       t_start = clock();
00065       
00066       <span class="comment">// Initialise log file</span>
00067       status = <a class="code" href="namespacesource_identify.html#a34">LogInit</a>(<a class="code" href="source_identify_8h.html#a2">TOOL_LOGFILE</a>, <a class="code" href="source_identify_8h.html#a1">TOOL_VERSION</a>, status);
00068       <span class="keywordflow">if</span> (status != <a class="code" href="namespacesource_identify.html#a38a24">STATUS_OK</a>)
00069         <span class="keywordflow">continue</span>;
00070 
00071       <span class="comment">// Dump header</span>
00072       <a class="code" href="namespacesource_identify.html#a36">Log</a>(<a class="code" href="namespacesource_identify.html#a37a21">Log_1</a>, 
00073          <span class="stringliteral">"************************************************************"</span>);
00074       <a class="code" href="namespacesource_identify.html#a36">Log</a>(<a class="code" href="namespacesource_identify.html#a37a21">Log_1</a>, 
00075          <span class="stringliteral">"*                sourceIdentify (gtsrcid)                  *"</span>);
00076       <a class="code" href="namespacesource_identify.html#a36">Log</a>(<a class="code" href="namespacesource_identify.html#a37a21">Log_1</a>, 
00077          <span class="stringliteral">"* -------------------------------------------------------- *"</span>);
00078       <a class="code" href="namespacesource_identify.html#a36">Log</a>(<a class="code" href="namespacesource_identify.html#a37a21">Log_1</a>, 
00079          <span class="stringliteral">"* Revision : 1.1.0                                         *"</span>);
00080       <a class="code" href="namespacesource_identify.html#a36">Log</a>(<a class="code" href="namespacesource_identify.html#a37a21">Log_1</a>, 
00081          <span class="stringliteral">"* Date     : 21 July 2005                                  *"</span>);
00082       <a class="code" href="namespacesource_identify.html#a36">Log</a>(<a class="code" href="namespacesource_identify.html#a37a21">Log_1</a>, 
00083          <span class="stringliteral">"* Author   : Jurgen Knodlseder (CESR)                      *"</span>);
00084       <a class="code" href="namespacesource_identify.html#a36">Log</a>(<a class="code" href="namespacesource_identify.html#a37a21">Log_1</a>, 
00085          <span class="stringliteral">"************************************************************"</span>);
00086 
00087       <span class="comment">// ...</span>
00088       st_app::AppParGroup &amp;pars(getParGroup(<a class="code" href="source_identify_8h.html#a0">TOOL_NAME</a>));
00089 
00090       <span class="comment">// Load task parameters</span>
00091       status = par.load(pars, status);
00092       <span class="keywordflow">if</span> (status != <a class="code" href="namespacesource_identify.html#a38a24">STATUS_OK</a>) {
00093         <span class="keywordflow">if</span> (par.logTerse())
00094           <a class="code" href="namespacesource_identify.html#a36">Log</a>(<a class="code" href="namespacesource_identify.html#a37a11">Error_3</a>, <span class="stringliteral">"%d : Error while loading task parameters."</span>, status);      
00095         <span class="keywordflow">continue</span>;
00096       }
00097 
00098       <span class="comment">// Dump task parameters</span>
00099       status = par.dump(status);
00100       <span class="keywordflow">if</span> (status != <a class="code" href="namespacesource_identify.html#a38a24">STATUS_OK</a>) {
00101         <span class="keywordflow">if</span> (par.logTerse())
00102           <a class="code" href="namespacesource_identify.html#a36">Log</a>(<a class="code" href="namespacesource_identify.html#a37a11">Error_3</a>, <span class="stringliteral">"%d : Error while dumping task parameters."</span>, status);      
00103         <span class="keywordflow">continue</span>;
00104       }
00105        
00106       <span class="comment">// Build counterpart catalogue</span>
00107       status = cat.build(&amp;par, status);
00108       <span class="keywordflow">if</span> (status != <a class="code" href="namespacesource_identify.html#a38a24">STATUS_OK</a>) {
00109         <span class="keywordflow">if</span> (par.logTerse())
00110           <a class="code" href="namespacesource_identify.html#a36">Log</a>(<a class="code" href="namespacesource_identify.html#a37a11">Error_3</a>, <span class="stringliteral">"%d : Error while building counterpart candidate"</span>
00111                        <span class="stringliteral">" catalogue."</span>, status);      
00112         <span class="keywordflow">continue</span>;
00113       }
00114 
00115       <span class="comment">// Save counterpart candidate catalogue</span>
00116       status = cat.save(&amp;par, status);
00117       <span class="keywordflow">if</span> (status != <a class="code" href="namespacesource_identify.html#a38a24">STATUS_OK</a>) {
00118         <span class="keywordflow">if</span> (par.logTerse())
00119           <a class="code" href="namespacesource_identify.html#a36">Log</a>(<a class="code" href="namespacesource_identify.html#a37a11">Error_3</a>, <span class="stringliteral">"%d : Error while saving counterpart candidate"</span>
00120                        <span class="stringliteral">" catalogue."</span>, status);      
00121         <span class="keywordflow">continue</span>;
00122       }
00123 
00124     } <span class="keywordflow">while</span> (0); <span class="comment">// End of main do-loop</span>
00125  
00126     <span class="comment">// Save the execution stop time and calculate elapsed time</span>
00127     t_stop = clock();
00128     t_elapse = (float)(t_stop - t_start) / (float)CLOCKS_PER_SEC;
00129 
00130     <span class="comment">// Dump termination message</span>
00131     <a class="code" href="namespacesource_identify.html#a36">Log</a>(<a class="code" href="namespacesource_identify.html#a37a21">Log_1</a>, <span class="stringliteral">"Task terminated using %.3f sec CPU time."</span>, t_elapse);
00132    
00133     <span class="comment">// Finish log file</span>
00134     status = <a class="code" href="namespacesource_identify.html#a35">LogClose</a>(status);
00135     
00136     <span class="comment">// Return from task</span>
00137 <span class="comment">//    return 0;</span>
00138 }
</pre></div>    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a name="o0" doxytag="application::m_f"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> st_stream::StreamFormatter application::m_f<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="source_identify_8cxx-source.html#l00140">140</a> of file <a class="el" href="source_identify_8cxx-source.html">sourceIdentify.cxx</a>.
<p>
Referenced by <a class="el" href="source_identify_8cxx-source.html#l00047">application()</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="source_identify_8cxx-source.html">sourceIdentify.cxx</a></ul>
<hr><address style="align: right;"><small>Generated on Fri Jul 22 21:03:26 2005 for sourceIdentify by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.18 </small></address>
</body>
</html>
